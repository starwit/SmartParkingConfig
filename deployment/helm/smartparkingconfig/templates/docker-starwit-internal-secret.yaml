{{ $internal_username := required "User must be set!" .Values.pullSecret.user }}
{{ $internal_password := required "Password must be set (can also be a token)!" .Values.pullSecret.password }}

apiVersion: v1
data:
  .dockerconfigjson: {{ printf "{\"auths\":{\"docker.internal.starwit-infra.de\":{\"username\":\"%s\",\"password\":\"%s\",\"auth\":\"\"}}}" $internal_username $internal_password | b64enc }}
kind: Secret
metadata:
  creationTimestamp: null
  name: docker-starwit-internal
type: kubernetes.io/dockerconfigjson
